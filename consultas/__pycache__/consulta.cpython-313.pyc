ó 
    øCgr	  ã                   ó&   • S SK JrJrJrJrJr  S rg)é    )Úrender_templateÚ requestÚredirectÚ url_forÚflashc                 ó
  ^• U R                  S5      U4S j5       nU R                  SS/S9U4S j5       nU R                  S 5      U4S j5       nU R                  S	S/S9U4S
 j5       nU R                  S
5      U4S j5       ng )
NÚ/c                  ó®   >• TR                   R                  5       n U R                  S5        U R                   5       nU R	                  5         [
        SUS9$ )Nzselect * from usuarioz
index.html)Ú usuario)Ú
connectionÚcursorÚ executeÚfetchallÚcloser   )ÚcurÚdataÚmysqls     €Ú7C:\Users\ASUS\Desktop\Proyecto_PA\consultas\consulta.pyÚIndexÚ"registrar_consultas.<locals>.Index   sE   ø€ à
×
Ñ
×
$Ñ
$Ó
&ˆØ

‰
Ğ+Ô,Ø
\‰\‹^ˆØ
	‰	Œ
Ü˜|°DÑ9Ğ9ó    z/add_contactÚPOST)Ú methodsc            
      ó*  >• [         R                  S:X  aş  [         R                  S   n [         R                  S   n[         R                  S   n[         R                  S   n[         R                  S   n[         R                  S   n[         R                  S   nTR                  R	                  5       n U R
                  SXX#XEU4 5        TR                  R
                  5         U R                  5         [        S5        [        [        S 5      5      $ g )Nr   Ú
id_usuarioÚphoneÚemailul   INSERT INTO usuario (id_usuario,nombre,apellido,email,contraseÃ±a,fecha_nac,descripcion) VALUES (%s, %s ,%s)z$contacto agregado satisfactoriamenter   )
r   ÚmethodÚformr   r
   r   Úcommitr   r    r   r   )	r   ÚnombreÚapellidor   ô
   contraseÃ±aÚ	fecha_nacÚ
descripcionr   r   s	           €r   Ú
add_contactÚ(registrar_consultas.<locals>.add_contact
   sô   ø€ ä
>‰>˜6Ó
!Ü—|‘| LÑ1ˆJÜ—<‘<  Ñ(ˆFÜ—\‘\ 'Ñ*ˆHÜ—,‘,˜wÑ'ˆEÜŸ™ WÑ-ˆKÜ—l‘l 7Ñ+ˆIÜŸ™ WÑ-ˆKØ×!Ñ!×(Ñ(Ó*ˆCØK‰Kğ  Gğ  ISğ  [cğ  juğ  @Kğ  HLô  
MØ×Ñ×#Ñ#Ô%ØI‰IŒKÜĞ8Ô9ÜœG GÓ,Ó-Ğ-ğ "r   z
/edit/<id>c                 óÎ   >• TR                   R                  5       nUR                  SR                   U 5      5        UR	                  5       n[
        US   5        [
        SUS   S9$ )Nz"select * from usuario where id={0}r   zedit-contact.html)Ú contact) r   r
   r   Úformatr   Úprintr   )Úidr   r   r   s      €r   Ú
get_contactÚ(registrar_consultas.<locals>.get_contact   sW   ø€ à×Ñ×#Ñ#Ó%ˆØ

‰
Ğ8×?Ñ?ÀÓCÔFØ
\‰\‹^ˆÜ
ˆd1‰gŒÜĞ2¸4À¹7ÑCĞCr   z/update/<id>c                 óÂ  >• [         R                  S:X  aÊ  [         R                  S   n[         R                  S   n[         R                  S   nTR                  R	                  5       nUR
                  SR
                  U 5      XU45        TR                  R                  5         [        U 5        UR                  5         [        S5        [        [        S 5      5      $ g )Nr   Úfullnamer   r   z@update contacts set fullname=%s, phone=%s, email=%s where id={0}z%datos actualizados satisfactoriamenter   )
r   r   r   r   r
   r   r*   r    r+   r   r    r   r   )r,   r0   r   r   r   r   s        €r   Úupdate_contactÚ+registrar_consultas.<locals>.update_contact"   s¯   ø€ ä
>‰>˜6Ó
!Ü—\‘\ *Ñ-ˆHÜ—,‘,˜wÑ'ˆEÜ—,‘,˜wÑ'ˆEØ× Ñ ×'Ñ'Ó)ˆCØK‰KĞZ×aÑaĞbdÓeĞhpĞw|Ğg}Ô~Ø×Ñ×#Ñ#Ô%Ü"ŒIØI‰IŒKÜĞ9Ô:ÜœG GÓ,Ó-Ğ-ğ "r   z/delete/<string:id>c                 ó
  >• TR                   R                  5       nUR                  SR                   U 5      5        TR                   R	                  5         UR
                  5         [
        S5        [        [        S5      5      $ )Nz!delete from contacts where id={0}z#datos eliminados satisfactoriamenter   )	r   r
   r   r*   r    r   r    r   r   )r,   r   r   s     €r   Údelete_contactÚ+registrar_consultas.<locals>.delete_contact/   sc   ø€ à×Ñ×#Ñ#Ó%ˆØ

‰
Ğ7×>Ñ>¸rÓBÔCØ
×Ñ×ÑÔ!Ø
	‰	Œ
Ü
Ğ3Ô4Üœ   Ó(Ó)Ğ)r   )Úroute) Úappr   r   r&   r-   r1   r4   s     `     r   Úregistrar_consultasr8      s    ø€ Ø‡YYˆsƒ^ô:ó ğ:ğ 	‡YYˆ~¨ x€YĞ0ô.ó 1ğ.ğ 	‡YYˆ|ÓôDó ğDğ 	‡YYˆ~¨ x€YĞ1ô
.ó 2ğ
.ğ 	‡YYĞ$Ó%ô*ó &ñ*r   N) Úflaskr   r   r   r   r    r8   © r   r   Ú<module>r;      s   ğß DÕ Dó3*r   