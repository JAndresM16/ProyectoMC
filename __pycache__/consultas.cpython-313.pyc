ó 
    ÔÍCgt  ã                   ó2   • S SK JrJrJrJrJr  S SKJ r   S rg)é    )Úrender_templateÚ requestÚredirectÚ url_forÚflash)Úmysqlc                 óê   • U R                  S5      S 5       nU R                  SS/S9S 5       nU R                  S 5      S 5       nU R                  S	S/S9S
 5       nU R                  S
5      S 5       ng )
NÚ/c                  ó´   • [         R                  R                  5       n U R                   S5        U R	                  5       nU R
                  5         [
        SUS9$ )Nzselect * from Contactsz
index.html)Úcontacts) r   Ú
connectionÚcursorÚ executeÚfetchallÚcloser   )ÚcurÚdatas     Ú.C:\Users\ASUS\Desktop\Proyecto_PA\consultas.pyÚIndexÚ"registrar_consultas.<locals>.Index   sD   € ä
×
Ñ
×
$Ñ
$Ó
&ˆØ

‰
Ğ,Ô-Ø
\‰\‹^ˆØ
	‰	Œ
Ü˜|°TÑ:Ğ:ó    z/add_contactÚPOST)Ú methodsc                  óœ  • [         R                  S:X  a¸  [         R                  S   n [         R                  S   n[         R                  S   n[        R                  R
                  5       nUR
                  SXU45        [        R                  R                  5         UR                  5         [        S5        [        [        S 5      5      $ g )Nr   ÚfullnameÚphoneÚemailz?INSERT INTO contacts (fullname,phone,email) VALUES (%s, %s ,%s)z$contacto agregado satisfactoriamenter   )r   ÚmethodÚformr   r
   r   r   Úcommitr   r    r   r   )r   r   r   r   s       r   Ú
add_contactÚ(registrar_consultas.<locals>.add_contact   s›   € ä
>‰>˜6Ó
!Ü—l‘l :Ñ.ˆHÜ—<‘<  Ñ(ˆEÜ—<‘<  Ñ(ˆEÜ×!Ñ!×(Ñ(Ó*ˆCØK‰KĞYĞ[cĞjoĞZpÔqÜ×Ñ×#Ñ#Ô%ØI‰IŒKÜĞ8Ô9ÜœG GÓ,Ó-Ğ-ğ "r   z
/edit/<id>c                 óÔ   • [         R                  R                  5       nUR                   SR	                  U 5      5        UR
                  5       n[
        US   5        [        SUS   S9$ )Nz#select * from Contacts where id={0}r   zedit-contact.html)Ú contact)r   r
   r   r   Úformatr   Úprintr   )Úidr   r   s      r   Ú
get_contactÚ(registrar_consultas.<locals>.get_contact   sV   € ä×Ñ×#Ñ#Ó%ˆØ

‰
Ğ9×@Ñ@ÀÓDÔGØ
\‰\‹^ˆÜ
ˆd1‰gŒÜĞ2¸4À¹7ÑCĞCr   z/update/<id>c                 óĞ  • [         R                  S:X  aÒ  [         R                  S   n[         R                  S   n[         R                  S   n[        R                  R
                  5       nUR
                  SR                  U 5      XU45        [        R                  R                  5         [        U 5        UR                  5         [        S5        [        [        S 5      5      $ g )Nr   r   r   r   z@update contacts set fullname=%s, phone=%s, email=%s where id={0}z%datos actualizados satisfactoriamenter   )r   r   r   r   r
   r   r   r%   r    r&   r   r    r   r   )r'   r   r   r   r   s        r   Úupdate_contactÚ+registrar_consultas.<locals>.update_contact   s®   € ä
>‰>˜6Ó
!Ü—\‘\ *Ñ-ˆHÜ—,‘,˜wÑ'ˆEÜ—,‘,˜wÑ'ˆEÜ× Ñ ×'Ñ'Ó)ˆCØK‰KĞZ×aÑaĞbdÓeĞhpĞw|Ğg}Ô~Ü×Ñ×#Ñ#Ô%Ü"ŒIØI‰IŒKÜĞ9Ô:ÜœG GÓ,Ó-Ğ-ğ "r   z/delete/<string:id>c                 ó  • [         R                  R                  5       nUR                   SR	                  U 5      5        [         R                  R
                  5         UR
                  5         [        S5        [        [        S5      5      $ )Nz!delete from contacts where id={0}z#datos eliminados satisfactoriamenter   )
r   r
   r   r   r%   r    r   r    r   r   )r'   r   s     r   Údelete_contactÚ+registrar_consultas.<locals>.delete_contact,   sb   € ä×Ñ×#Ñ#Ó%ˆØ

‰
Ğ7×>Ñ>¸rÓBÔCÜ
×Ñ×ÑÔ!Ø
	‰	Œ
Ü
Ğ3Ô4Üœ   Ó(Ó)Ğ)r   )Úroute)Úappr   r!   r(   r+   r.   s         r   Úregistrar_consultasr2      sŸ   € Ø‡YYˆsƒ^ñ;ó ğ;ğ 	‡YYˆ~¨ x€YĞ0ñ
.ó 1ğ
.ğ 	‡YYˆ|ÓñDó ğDğ 	‡YYˆ~¨ x€YĞ1ñ
.ó 2ğ
.ğ 	‡YYĞ$Ó%ñ*ó &ñ*r   N)	Úflaskr   r   r   r   r    Ú_init_r   r2   © r   r   Ú<module>r6      s   ğß DÕ Dİ ó/*r   